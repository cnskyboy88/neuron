/**  * @author Kael Zhang * @build 2010-06-21 */package {	import flash.display.*;    import flash.external.*;    import flash.system.*;	import flash.events.*;    public class clipboard extends MovieClip    {		private var _getContent_funcName : String;		private var _callback_funcName : String;		        public function clipboard() : void        {			var loader : Object;						loader = root.loaderInfo.parameters;			            _getContent_funcName = loader.getContent;			_callback_funcName = loader.callback;									stage.addEventListener( MouseEvent.CLICK, setClipboard );						        }						// "With Flash Player 10, the System.setClipboard() method 		// must be successfully called only through ActionScript that originates from user interaction"				// so we set a method to get contents with javascript, 		// when user clicked the copy button        private function setClipboard( _event : MouseEvent ) : void        {			if(_getContent_funcName == null){				return;			}						var _content : String;			var e : * = _event;						_content = executeJSMethod( _getContent_funcName );			            if ( !_content ){                return;            }// end if			            try{                System.setClipboard( _content as String );				                executeJSMethod( _callback_funcName );            			}catch ( e : Error ){				trace( e.message );				                executeJSMethod( _callback_funcName, false );            			}			            return;        }				private function executeJSMethod(funcName : String, isSuccess : Boolean = true) : String		{			if (ExternalInterface.available && funcName != null){                return ExternalInterface.call( funcName, isSuccess );            }						return null;		}    }}